<nav class="navbar navbar-expand-lg navbar-light bg-light">

  <a class="navbar-brand" href="#">Edit Profile</a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">

    <span class="navbar-toggler-icon"></span>

  </button>

  <div class="collapse navbar-collapse" id="navbarNav">

    <ul class="navbar-nav ml-auto">

      <li class="nav-item">

        <span (click)="authService.logout()" class="btn btn-primary ml-2">Logout</span>

      </li>

    </ul>

  </div>

</nav>


<div class="container">

  <div class="row">

    <div class="col-lg-4">

      <div class="card">

        <img [src]="imageToShow" id="profileImage" class="card-img-top rounded img-fluid float-start"
             alt="Profile Image" *ngIf="!isImageLoading; else noImageFound" width="200px" height="200px" />

        <ng-template #noImageFound>

          <img src="" alt="Fallbackimage">

        </ng-template>

      </div>

    </div>

  </div>

  <br />

  <div class="row">

    <div class="col-lg-4">

      <label for="userImage" class="text text-primary">Select image</label>

      <input type="file" id="userImage" name="userImage" class="form-control" required aria-describedby="userImage" (change)="onImageUpload($event)" style="visibility:visible" />

    </div>

  </div>

  <br />

  <label for="message" class="text text-success">{{message}}</label>

  <br />

  <form (ngSubmit)="onSubmit()">

    <div class="form-group col-lg-4">

      <label for="bio">Bio</label>

      <textarea class="form-control" id="bio" rows="3" [(ngModel)]="tutor.bio" name="bio"></textarea>

    </div>

    <div class="form-group col-lg-4">

      <label for="introduction">Introduction</label>

      <textarea class="form-control" id="introduction" rows="3" [(ngModel)]="tutor.introduction" name="introduction"></textarea>

    </div>

    <div class="form-group col-lg-4">

      <label for="pricePerHour">Price Per Hour</label>

      <input type="number" class="form-control" id="pricePerHour" [(ngModel)]="tutor.pricePerHour" name="pricePerHour">

    </div>

    <div class="form-group col-lg-4">

      <label for="educationLevel">Education Levels</label>

      <select multiple class="form-control" id="educationLevel" [(ngModel)]="tutor.educationLevelIds" name="educationLevel">

        <option *ngFor="let level of levels" [ngValue]="level.key">{{level.value}}</option>

      </select>

    </div>

    <div class="form-group col-lg-4">

      <label for="subject">Subjects</label>

      <select multiple class="form-control" id="subject" [(ngModel)]="tutor.subjectIds" name="subject">

        <option *ngFor="let subject of subjects" [ngValue]="subject.id">{{subject.name}}</option>

      </select>

    </div>

    <div class="form-group col-lg-4">

      <label for="teachingPreference">Teaching Preferences</label>

      <select multiple class="form-control" id="teachingPreference" [(ngModel)]="tutor.teachingPreferenceIds" name="teachingPreference">

        <option *ngFor="let teachingPreference of teachingPreferences" [ngValue]="teachingPreference.key">{{teachingPreference.value}}</option>

      </select>

    </div>

    <div class="form-group col-lg-4">

      <label for="availableDay">Select Weekdays and Time Range for each Day</label>

      <div class="form-check" *ngFor="let day of availableDays; let i = index">

        <input type="checkbox" value="{{day.key}}" id="day{{day.key}}" name="day{{day.key}}" class="form-check-input" (change)="onSelectedDayChanged($event)" [attr.checked]="isChecked(day.key)" />

        <label class="form-check-label" for="{{day.key}}">{{day.value}} </label>

        <select style="margin: 10px" multiple class="form-control" id="timeRange{{day.key}}" name="timeRange{{day.key}}" *ngIf="day.key == 1" [(ngModel)]="selectedTimeRanges1">

          <option *ngFor="let timeRange of timeRanges" [ngValue]="timeRange.key">{{timeRange.value}}</option>

        </select>

        <select style="margin: 10px" multiple class="form-control" id="timeRange{{day.key}}" name="timeRange{{day.key}}" *ngIf="day.key == 2" [(ngModel)]="selectedTimeRanges2">

          <option *ngFor="let timeRange of timeRanges" [ngValue]="timeRange.key">{{timeRange.value}}</option>

        </select>

        <select style="margin: 10px" multiple class="form-control" id="timeRange{{day.key}}" name="timeRange{{day.key}}" *ngIf="day.key ==3" [(ngModel)]="selectedTimeRanges3">

          <option *ngFor="let timeRange of timeRanges" [ngValue]="timeRange.key">{{timeRange.value}}</option>

        </select>

        <select style="margin: 10px" multiple class="form-control" id="timeRange{{day.key}}" name="timeRange{{day.key}}" *ngIf="day.key == 4" [(ngModel)]="selectedTimeRanges4">

          <option *ngFor="let timeRange of timeRanges" [ngValue]="timeRange.key">{{timeRange.value}}</option>

        </select>

        <select style="margin: 10px" multiple class="form-control" id="timeRange{{day.key}}" name="timeRange{{day.key}}" *ngIf="day.key == 5" [(ngModel)]="selectedTimeRanges5">

          <option *ngFor="let timeRange of timeRanges" [ngValue]="timeRange.key">{{timeRange.value}}</option>

        </select>

        <select style="margin: 10px" multiple class="form-control" id="timeRange{{day.key}}" name="timeRange{{day.key}}" *ngIf="day.key == 6" [(ngModel)]="selectedTimeRanges6">

          <option *ngFor="let timeRange of timeRanges" [ngValue]="timeRange.key">{{timeRange.value}}</option>

        </select>

        <select style="margin: 10px" multiple class="form-control" id="timeRange{{day.key}}" name="timeRange{{day.key}}" *ngIf="day.key == 7" [(ngModel)]="selectedTimeRanges7">

          <option *ngFor="let timeRange of timeRanges" [ngValue]="timeRange.key">{{timeRange.value}}</option>

        </select>

      </div>

    </div>

    <button type="submit" class="btn btn-primary">Save</button>

  </form>

</div>
